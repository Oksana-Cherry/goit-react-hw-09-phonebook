(this["webpackJsonpgoit-react"]=this["webpackJsonpgoit-react"]||[]).push([[0],{10:function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return S}));var r=n(3),c={registerRequest:Object(r.b)("auth/registerRequest"),registerSuccess:Object(r.b)("auth/registerSuccess"),registerError:Object(r.b)("auth/registerError"),loginRequest:Object(r.b)("auth/loginRequest"),loginSuccess:Object(r.b)("auth/loginSuccess"),loginError:Object(r.b)("auth/loginError"),logoutRequest:Object(r.b)("auth/logoutRequest"),logoutSuccess:Object(r.b)("auth/logoutSuccess"),logoutError:Object(r.b)("auth/logoutError"),getCurrentUserRequest:Object(r.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(r.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(r.b)("auth/getCurrentUserError")},a=n(19),o=n.n(a),u=n(25),s=n(14),i=n.n(s);i.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var b,l,j,d,f=function(t){i.a.defaults.headers.common.Authorization="Bearer ".concat(t)},O=function(){i.a.defaults.headers.common.Authorization=""},g={register:function(t){return function(){var e=Object(u.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(c.registerRequest()),e.prev=1,e.next=4,i.a.post("/users/signup",t);case 4:r=e.sent,f(r.data.token),n(c.registerSuccess(r.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(c.registerError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(t){return function(){var e=Object(u.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(c.loginRequest()),e.prev=1,e.next=4,i.a.post("/users/login",t);case 4:r=e.sent,f(r.data.token),n(c.loginSuccess(r.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(c.loginError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},logOut:function(){return function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(c.logoutRequest()),t.prev=1,t.next=4,i.a.post("/users/logout");case 4:O(),e(c.logoutSuccess()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(c.logoutError(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var t=Object(u.a)(o.a.mark((function t(e,n){var r,a,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),a=r.auth.token){t.next=3;break}return t.abrupt("return");case 3:return f(a),e(c.getCurrentUserRequest()),t.prev=5,t.next=8,i.a.get("/users/current");case 8:u=t.sent,e(c.getCurrentUserSuccess(u.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(c.getCurrentUserError(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()}},h=n(4),p=n(6),v={name:null,email:null},m=Object(r.c)(v,(b={},Object(h.a)(b,c.registerSuccess,(function(t,e){return e.payload.user})),Object(h.a)(b,c.loginSuccess,(function(t,e){return e.payload.user})),Object(h.a)(b,c.logoutSuccess,(function(){return v})),Object(h.a)(b,c.getCurrentUserSuccess,(function(t,e){return e.payload})),b)),x=Object(r.c)(null,(l={},Object(h.a)(l,c.registerSuccess,(function(t,e){return e.payload.token})),Object(h.a)(l,c.loginSuccess,(function(t,e){return e.payload.token})),Object(h.a)(l,c.logoutSuccess,(function(){return null})),l)),k=Object(r.c)(null,(j={},Object(h.a)(j,c.registerError,(function(t,e){return e.payload})),Object(h.a)(j,c.loginError,(function(t,e){return e.payload})),Object(h.a)(j,c.logoutError,(function(t,e){return e.payload})),Object(h.a)(j,c.getCurrentUserError,(function(t,e){return e.payload})),j)),C=Object(r.c)(!1,(d={},Object(h.a)(d,c.registerSuccess,(function(){return!0})),Object(h.a)(d,c.loginSuccess,(function(){return!0})),Object(h.a)(d,c.getCurrentUserSuccess,(function(){return!0})),Object(h.a)(d,c.registerError,(function(){return!1})),Object(h.a)(d,c.loginError,(function(){return!1})),Object(h.a)(d,c.getCurrentUserError,(function(){return!1})),Object(h.a)(d,c.logoutSuccess,(function(){return!1})),d)),y=Object(p.c)({user:m,isAuthenticated:C,token:x,error:k}),S={getIsAuthenticated:function(t){return t.auth.isAuthenticated},getUserName:function(t){return t.auth.user.name}}},26:function(t,e,n){t.exports={link:"Navigation_link__mW1O0",activeLink:"Navigation_activeLink__1yrwY"}},27:function(t,e,n){t.exports={link:"AuthNav_link__21zGS",activeLink:"AuthNav_activeLink__2gWtr"}},33:function(t,e,n){t.exports={container:"UseMenu_container__2qf_T",avatar:"UseMenu_avatar__2DP90",name:"UseMenu_name__2-I-Y"}},39:function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return C})),n.d(e,"b",(function(){return w}));var r,c,a,o=n(3),u=Object(o.b)("contacts/fetchContactRequrest"),s=Object(o.b)("contacts/fetchContactSuccess"),i=Object(o.b)("contacts/fetchContactError"),b=Object(o.b)("contacts/addContactRequrest"),l=Object(o.b)("contacts/addContactSuccess"),j=Object(o.b)("contacts/addContactError"),d=Object(o.b)("contacts/deleteContactRequrest"),f=Object(o.b)("contacts/deleteContactSuccess"),O=Object(o.b)("contacts/deleteContactError"),g=Object(o.b)("contacts/filter"),h=n(14),p=n.n(h),v={fetchContact:function(){return function(t){t(u()),p.a.get("/contacts").then((function(e){var n=e.data;return t(s(n))})).catch((function(e){return t(i(e.message))}))}},addContact:function(t,e){return function(n){var r={name:t,number:e};n(b()),p.a.post("/contacts",r).then((function(t){var e=t.data;return n(l(e))})).catch((function(t){return n(j(t.message))}))}},deleteContact:function(t){return function(e){e(d()),p.a.delete("/contacts/".concat(t)).then((function(){e(f(t))})).catch((function(t){return e(O(t.message))}))}}},m=n(29),x=function(t){return t.contacts.items},k=function(t){return t.contacts.filter},C={getContacts:x,getFilter:k,getLoding:function(t){return t.contacts.loading},getError:function(t){return t.contacts.error},getVisibleContact:Object(m.a)([x,k],(function(t,e){console.log("\u043d\u043e\u0432\u044b\u0439 \u043c\u0430\u0441\u0441\u0438\u0432 \u0432\u0438\u0434\u0438\u043c\u044b\u0445 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432");var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},y=n(4),S=n(31),_=n(6),E=Object(o.c)([],(r={},Object(y.a)(r,s,(function(t,e){return e.payload})),Object(y.a)(r,l,(function(t,e){var n=e.payload;return[].concat(Object(S.a)(t),[n])})),Object(y.a)(r,f,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),r)),U=Object(o.c)("",Object(y.a)({},g,(function(t,e){return e.payload}))),N=Object(o.c)(!1,(c={},Object(y.a)(c,u,(function(){return!0})),Object(y.a)(c,s,(function(){return!1})),Object(y.a)(c,i,(function(){return!1})),Object(y.a)(c,b,(function(){return!0})),Object(y.a)(c,l,(function(){return!1})),Object(y.a)(c,j,(function(){return!1})),Object(y.a)(c,d,(function(){return!0})),Object(y.a)(c,f,(function(){return!1})),Object(y.a)(c,O,(function(){return!1})),c)),q=Object(o.c)("",(a={},Object(y.a)(a,i,(function(t,e){return e.payload})),Object(y.a)(a,j,(function(t,e){return e.payload})),Object(y.a)(a,O,(function(t,e){return e.payload})),a)),w=Object(_.c)({items:E,filter:U,loading:N,error:q})},50:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(0);var r=n(55),c=n.n(r),a=n(2);function o(t){var e=t.children;return Object(a.jsx)("div",{className:c.a.Container,children:e})}o.defaultProps={children:"Here must be some text..."}},55:function(t,e,n){t.exports={Container:"Container_Container__TZCFf"}},64:function(t,e,n){t.exports={header:"AppBar_header__OZLk_"}},98:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(21),o=n.n(a),u=n(17),s=n(9),i=n(52),b=n(31),l=n(3),j=n(53),d=n.n(j),f=n(20),O=n(54),g=n.n(O),h=n(39),p=n(10),v=[].concat(Object(b.a)(Object(l.d)({serializableCheck:{ignoredActions:[f.a,f.f,f.b,f.c,f.d,f.e]}})),[d.a]),m={key:"auth",storage:g.a,whitelist:["token"]},x=Object(l.a)({reducer:{auth:Object(f.g)(m,p.b),contacts:h.b},middleware:v,devTools:!1}),k={store:x,persistor:Object(f.h)(x)},C=n(5),y=n(50),S={home:"/",contacts:"/contacts",register:"/register",login:"/login"},_=n(26),E=n.n(_),U=n(2),N=S.home,q=S.contacts;function w(){var t=Object(s.c)(p.c.getIsAuthenticated);return Object(U.jsxs)("nav",{children:[Object(U.jsx)(u.b,{to:N,exact:!0,className:E.a.link,activeClassName:E.a.activeLink,children:"Home"}),t&&Object(U.jsx)(u.b,{to:q,exact:!0,className:E.a.link,activeClassName:E.a.activeLink,children:"Phonebook"})]})}var L=n.p+"static/media/default-avatar.e44fc4e2.png",R=n(112),A=n(33),T=n.n(A);function z(){var t=Object(s.c)(p.c.getUserName),e=Object(s.b)(),n=Object(r.useCallback)((function(){e(p.a.logOut())}),[e]);return Object(U.jsxs)("div",{className:T.a.container,children:[Object(U.jsx)("img",{src:L,alt:"",width:"32",className:T.a.avatar}),Object(U.jsxs)("span",{className:T.a.name,children:["Welcome, ",t]}),Object(U.jsx)(R.a,{type:"button",variant:"contained",color:"primary",onClick:n,children:"Logout"})]})}var I=n(27),M=n.n(I),P=S.register,B=S.login;function W(){return Object(U.jsxs)("div",{children:[Object(U.jsx)(u.b,{to:P,exact:!0,className:M.a.link,activeClassName:M.a.activeLink,children:"Authorization"}),Object(U.jsx)(u.b,{to:B,exact:!0,className:M.a.link,activeClassName:M.a.activeLink,children:"Login"})]})}var F=n(64),H=n.n(F);function J(){var t=Object(s.c)(p.c.getIsAuthenticated);return Object(U.jsxs)("header",{className:H.a.header,children:[Object(U.jsx)(w,{}),t?Object(U.jsx)(z,{}):Object(U.jsx)(W,{})]})}var Y=n(23),Z=n(32);function D(t){var e=t.redirectTo,n=t.children,r=Object(Z.a)(t,["redirectTo","children"]),c=Object(s.c)(p.c.getIsAuthenticated);return Object(U.jsx)(C.b,Object(Y.a)(Object(Y.a)({},r),{},{children:c?n:Object(U.jsx)(C.a,{to:e})}))}function G(t){var e=t.redirectTo,n=t.children,r=Object(Z.a)(t,["redirectTo","children"]),c=Object(s.c)(p.c.getIsAuthenticated);return Object(U.jsx)(C.b,Object(Y.a)(Object(Y.a)({},r),{},{children:c&&r.restricted?Object(U.jsx)(C.a,{to:e}):n}))}var V=Object(r.lazy)((function(){return n.e(7).then(n.bind(null,141))})),K=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,138))})),Q=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,139))})),X=Object(r.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,140))})),$=S.home,tt=S.contacts,et=S.register,nt=S.login,rt=function(){var t=Object(s.b)();return Object(r.useEffect)((function(){t(p.a.getCurrentUser())}),[t]),Object(U.jsxs)(y.a,{children:[Object(U.jsx)(J,{}),Object(U.jsx)(r.Suspense,{fallback:Object(U.jsx)("div",{children:"Loading..."}),children:Object(U.jsxs)(C.d,{children:[Object(U.jsx)(G,{exact:!0,path:$,component:V}),Object(U.jsx)(G,{path:et,restricted:!0,redirectTo:tt,component:K}),Object(U.jsx)(G,{exact:!0,path:nt,restricted:!0,redirectTo:tt,component:Q}),Object(U.jsx)(D,{path:tt,component:X,redirectTo:nt}),Object(U.jsx)(G,{component:V})]})})]})};n(97);o.a.render(Object(U.jsx)(c.a.StrictMode,{children:Object(U.jsx)(s.a,{store:k.store,children:Object(U.jsx)(i.a,{loading:null,persistor:k.persistor,children:Object(U.jsx)(u.a,{children:Object(U.jsx)(rt,{})})})})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.36a2e5e2.chunk.js.map